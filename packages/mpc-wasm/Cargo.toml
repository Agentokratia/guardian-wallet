[package]
name = "guardian-mpc-wasm"
version = "0.1.0"
edition = "2021"
description = "WASM wrapper for CGGMP24 threshold ECDSA — keygen, signing, presignatures"
license = "AGPL-3.0-only"
publish = false

[lib]
crate-type = ["cdylib", "rlib"]

[[bin]]
name = "gen_primes"
path = "src/bin/gen_primes.rs"

[dependencies]
# CGGMP24 — use num-bigint backend (WASM-compatible, no GMP required)
cggmp24 = { version = "0.7.0-alpha", default-features = false, features = [
    "curve-secp256k1",
    "state-machine",
    "backend-num-bigint",
    "no_std",
] }
cggmp24-keygen = { version = "0.7.0-alpha", default-features = false, features = [
    "state-machine",
] }
key-share = { version = "0.6", default-features = false }
round-based = { version = "0.4", features = ["state-machine"] }
generic-ec = { version = "0.4", default-features = false, features = [
    "curve-secp256k1",
    "serde",
] }
wasm-bindgen = "0.2"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
serde-wasm-bindgen = "0.6"
js-sys = "0.3"
getrandom = { version = "0.2", features = ["js"] }
rand = "0.8"
rand_core = "0.6"
sha2 = "0.10"
base64 = { version = "0.22", default-features = false, features = ["alloc"] }
num-bigint-dig = { version = "0.8", default-features = false }
critical-section = { version = "1.2" }

[profile.release]
opt-level = 3
lto = true
